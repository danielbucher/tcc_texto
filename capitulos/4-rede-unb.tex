\chapter{Uma Rede de Colaboração para a UnB}

Como já exposto, o objetivo deste trabalho é disponibilizar um ambiente
virtual no qual alunos, professores e servidores técnico-administrativos tenham 
um espaço para a criação e o compartilhamento de conhecimento na forma de uma
rede de colaboração livre para a Universidade de Brasília: o Comunidade.UnB.
%
Para isto, escolhemos a plataforma Noosfero por entender que
(\textit{i}) as funcionalidades de rede social e de CMS satisfazem nossas 
necessidades; (\textit{ii}) além das vantagens existentes por este ser uma
plataforma de software livre; (\textit{iii}) por ser  expansível (através de
\textit{plugins}); (\textit{iv}) por ter uma comunidade ativa e pela posição
geográfica favorável que possuímos em relação ao núcleo de desenvolvimento
dela, que está no Brasil.
%
Desta forma, conseguimos facilmente contactar os principais desenvolvedores
do Noosfero e organizar encontros para discutir parcerias, como ocorrido
algumas vezes durante este trabalho, tanto presencialmente quanto remotamente.

Além de um ambiente virtual para interação social, queremos que a rede proposta
funcione como um ambiente para os alunos, professores e funcionários da
universidade compartilhar ideias, produzir conteúdo de forma colaborativa e
publicá-lo para que possa ser de utilidade para outras pessoas ou parcelas da
sociedade, uma vez que entendemos (e defendemos) ser este um dos papéis de uma Universidade:
universalizar o conhecimento.
%
O ambiente disponibiliza para seus usuários a capacidade de criar blogs,
comunidades, de se relacionar com outras pessoas e ao mesmo tempo associar seu
perfil à marca da Universidade de Brasília.

As comunidades no Comunidade.UnB podem ser utilizadas para construir e publicar
conteúdo de áreas de conhecimento, disciplinas e projetos acadêmicos de forma
colaborativa, como ocorreu, em nossos estudos de caso, em 3 disciplinas da UnB Gama.
%
Dentre as vantagens dessa abordagem podemos destacar a possibilidade de
acesso do público ao conteúdo, e a continuidade do conteúdo desenvolvido
nas comunidades para outras pessoas que eventualmente se juntem ao longo do tempo.
%
Entretanto, o Noosfero permite configurar a publicação do conteúdo de suas comunidades, de forma a decidir
quais conteúdos serão expostos ao público e quais seriam mantidos privados.

\begin{figure}[h]
    \centering
    \includegraphics[keepaspectratio=true,scale=0.4]
      {figuras/portal-fga.eps}
    \caption{Ambiente Noosfero como portal da Faculdade do Gama}
    \label{portal-fga}
\end{figure}

O Noosfero permite também fazer uso de suas funcionalidades de CMS para a
criação de portais institucionais para faculdades, departamentos, laboratórios,
dentre outros. A Figura \ref{portal-fga} apresenta o uso de um ambiente
Noosfero como portal para a Faculdade UnB Gama (FGA), que também recebeu
colaborações durante este trabalho, desde o desenvolvimento de funcionalidades com a equipe,
passando pelo treinamento da mesmo, até a revisão de código de contribuições da mesma.
%
No contexto do Portal da FGA, podemos ter comunidades dentro do
Comunidade.UnB com temas próprios que funcionariam como portais institucionais.
%
Em outras palavras, dependendo do o que for planejado para o Comunidade.UnB, o
Portal da FGA pode, no futuro ser, na prática, uma comunidade dentro do Comunidade.UnB,
com os seus respectivos sub-grupos.

Nesse capítulo apresentaremos as funcionalidades desenvolvidas para contribuir
para a adequação do Noosfero como uma rede de colaboração para universidades,
os requisitos não-funcionais levantados para que esta possa suprir as
necessidades de segurança e confiabilidade e o processo de colaboração com o
Noosfero. O capítulo \ref{cap:conclusao}, na seção de trabalhos futuros, apresenta outras funcionalidades que
foram levantadas por nós mas não foram desenvolvidas ao longo deste trabalho.

%------------------------------------------------------------------------------%
\section{Processo de colaboração para o Noosfero}

Um desafio frequente encontrado em comunidades de software livre, principalmente
comunidades de projetos menores ou novos, é elaborar um processo e utilizar
ferramentas que facilitem e incentivem a entrada de novas pessoas. 
\citeonline{reis2003} identificou que 65\% dos projetos de software livre
utilizam ferramentas de controle de versão, listas de correio eletrônico e a
página do projeto na internet como ferramenta de comunicação entre usuários e
desenvolvedores. Hoje, dez anos depois desse levantamento, podemos ter em mente
que esse percentual seja bem maior.
%
Em 2011, uma pesquisa, realizada por \citeonline{corbucci2011}
para sua dissertação de mestrado, identificou listas de correio eletrônico como
sendo a ferramenta de comunicação mais comum em projetos de software livre
seguido pelo \textit{Internet Relay Chat} (IRC).
%
A comunidade do Noosfero faz uso de todas as ferramentas citadas acima, com
o objetivo de minimizar os problemas de comunicação ocasionados pelo fato da
equipe estar distribuída ao redor do mundo, bem como, possibilitar que novos
membros da comunidade, sejam eles desenvolvedores ou usuários, possam se
integrar do que está ocorrendo no projeto e interagir com os demais membros.

As lista de correio eletrônico
~\footnote{\url{https://noosfero.org/Development/MailingLists\#Development}}
(são duas: uma em português, para comunidade brasileira, e outra em inglês,
para os desenvolvedores com um todo, brasileiros ou não) é a principal
ferramenta de comunicação. 
%
Além disso, a comunidade mantém um canal no IRC~\footnote{Os canais \#noosfero e
\#noosfero-br hospedados no FreeNode até o momento da escrita deste texto.}
para tirar dúvidas e proporcionar um canal de comunicação mais dinâmica.
%
Outra iniciativa recente da comunidade para melhorar a comunicação e manter os
diversos núcleos de desenvolvimentos do Noosfero a par das últimas atualizações
é a de realizar quinzenalmente reuniões via vídeo-conferência.

A página do Noosfero~\footnote{\url{http://noosfero.org}} possui uma seção de
desenvolvimento~\footnote{\url{http://noosfero.org/Development}} que apresenta
informações necessárias para pessoas que queiram começar a colaborar com o
mesmo. Nessa página, encontramos também um \textit{issue tracker} utilizado para
cadastrar e mapear o desenvolvimento das funcionalidades e correções de
\textit{bugs} do Noosfero.
%
São disponibilizados dois \textit{issue trackers} diferentes, um para
funcionalidades e outro para \textit{bugs}. Ao cadastrar um novo item, o
desenvolvedor preenche os campos com o título daquele item; uma ou mais
categorias para aquele item (e.g. Chat, RSSFeeds); a descrição daquele
item; o \textit{plugin} relacionado aquele item, quando existir; e a
versão do Noosfero que aquele item afeta.
%
Para funcionalidades, coloca-se a
versão em que essa está prevista para ser lançada, enquanto que para
\textit{bugs}, coloca-se também a versão em que este foi identificado. Com o
item criado, outro usuários podem adicionar comentários e associar um
desenvolvedor responsável pela sua implementação.

\begin{figure}[h]
    \centering
    \includegraphics[keepaspectratio=true,scale=0.4]
      {figuras/issue-tracker.eps}
    \caption{Issue Tracker do Noosfero}
    \label{issue-tracker}
\end{figure}

A Figura \ref{issue-tracker} apresenta o \textit{issue tracker} para
funcionalidades do Noosfero.
%
A pessoa que queira cadastrar novos itens nestes precisa se cadastrar
na página de desenvolvimento do Noosfero.
%
Recentemente, foi implementado um sistema que possibilita à comunidade declarar
seu interesse em ver um item resolvido, dessa forma é possível priorizar os
itens identificados como sendo de maior importância para os usuários e
desenvolvedores.

A ferramenta utilizada para controle de versão é o Git~\footnote{
\url{http://git-scm.com/}}, uma ferramenta livre de versionamento distribuído
de código fonte. O repositório oficial do Noosfero encontra-se no Gitorious
~\footnote{\url{https://gitorious.org/noosfero/noosfero}} com um espelho no
Gitlab~\footnote{\url{https://gitlab.com/noosfero/noosfero}} e outro no
Github~\footnote{\url{https://github.com/noosfero/noosfero}}.
%
Na página de desenvolvimento da comunidade existe uma série de recomendações
sobre como enviar \textit{patches} para o Noosfero%
~\footnote{\url{https://noosfero.org/Development/PatchGuidelines}},
desde como versionar seu \textit{patches}, até como realizar a solicitação de
inclusão do seu \textit{patch}, ou \textit{merge-request}, na plataforma.

O processo de colaboração com o Noosfero incluí uma série práticas apresentadas
pelas metodologias ágeis de desenvolvimento de software como o uso de testes
automatizados, a descrição das funcionalidades do projeto no formato de
histórias de usuário e a adoção de ferramentas para a utilização da metodologia
\textit{Behavior Driven Development} (BDD)%
~\footnote{\url{http://en.wikipedia.org/wiki/Behavior-driven_development}},
uma evolução do \textit{Test Driven Development} (TDD)%
~\footnote{\url{http://en.wikipedia.org/wiki/Test-driven_development}}
apresentada por \citeonline{north2006}, como veremos na Seção
\ref{funcionalidades}.
%
As semelhanças das práticas adotadas pelas comunidades de software livre e as
comunidades de métodos ágeis foram apresentadas por \citeonline{corbucci2011}
em sua tese de mestrado. De acordo com ele, os dois
métodos possuem tantas características em comum ao ponto de, Martin Fowler,
um dos autores mais influentes na Literatura sobre métodos ágeis,
incluir software livre como um método ágil na primeira versão de seu artigo
\textit{"The New Methodology"}. No entanto o mesmo foi retirado devido
à falta de descrição precisa dos métodos de desenvolvimento utilizados pelas
comunidades de software livre \apud[p.~9]{fowler2000}{corbucci2011}.
%
Por outro lado, \citeonline{corbucci2011} discute os princípios ágeis e livres
como semelhantes:
%
(\textit{i}) Indivíduos e interações são mais importantes que processos e
ferramentas;
(\textit{ii}) Software em funcionamento é mais importante que documentação
abrangente;
(\textit{iii}) Colaboração com o cliente (usuários) é mais importante que
negociação de contratos;
(\textit{iv}) Responder às mudanças é mais importante que seguir um plano.
%
Também, explicita as práticas disseminadas pelas metodologias ágeis usadas no
cotidiano dos desenvolvedores de software livre:
(\textit{i}) Código compartilhado (coletivo);
(\textit{ii}) Projeto simples;
(\textit{iii}) Repositório único de código;
(\textit{iv}) Integração contínua;
(\textit{v}) Código e teste;
(\textit{vi}) Desenvolvimento dirigido por testes, e
(\textit{vii}) Refatoração~\cite{corbucci2011}. Portanto, neste trabalho,
entendemos software livre com um método ágil de desenvolvimento, do ponto de
vista da Engenharia de Software.

%-----------------------------------------------------------------------------%

\input{capitulos/capitulo4/funcionalidades}

%------------------------------------------------------------------------------%

\section{Requisitos Não-funcionais}

Além das funcionalidades desenvolvidas, também investigamos os requisitos
não-funcionais. Dessa forma, separamos algumas características que
julgamos necessárias para o bom funcionamento do Comunidade.UnB, principalmente
em relação à disponibilidade, performance e segurança do sistema.

É importante para o sucesso da Comunidade.UnB que esta permaneça disponível
mesmo durante picos de acesso estimados em até 30 mil usuários simultâneos,
que dá aproximadamente 75\% do total de candidatos a usuários da Universidade
que possui atualmente 2.445 professores, 2.630 técnicos-administrativos
e 28.570 alunos regulares e 6.304 de pós-graduação, totalizando de 39.949
\cite{unbInstituicao}. Como explicado na seção \ref{noosfero-section}, o Noosfero
utiliza o \textit{web-server} Apache como um servidor de \textit{proxy} reverso
que realizar o balanceamento de carga entre as diversas instâncias do Thin,
configuradas durante a instalação, sendo que são recomendadas a configuração de
duas instâncias por núcleo de processador presentes na máquina que está
hospedando o sistema.
%
Estimamos que necessitaríamos de 8 instâncias do Thin
para manter um nível de performance aceitável durante picos de acesso, o que
necessitaria de uma máquina com pelo menos 4 núcleos de processamento para
hospedar o sistema. No entanto, essa estimativa foi realizada com base em
depoimentos de usuários destas tecnologias e faz-se necessária a execução de
um \textit{benchmark} mais específico para podermos definir estes parâmetros com
uma precisão maior.
%
Na seção \ref{sec:future-works} propomos um estudo sobre escalabilidade para
aplicações desenvolvidas em \textit{Ruby on Rails} e a possibilidade de se
utilizar mais de uma máquina hospedeira para tanto.

%TODO adquirir certificado SSL em trabalhos futuros
No quesito segurança, é importante que as requisições que chegam ao serviço
do Comunidade.UnB passem por uma camada de criptografia para impedir que
eventuais ataques consigam recuperar dados como a senha do usuário. Assim faz-se
necessário a adição de uma camada de \textit{Secure Socket Layer/Transport
Layer security} (SSL)/TLS através do protocolo \textit{Hypertext Transfer
Protocol Secure} (HTTPS) para acesso à Comunidade.UnB. As permissões de acesso das
comunidades e seu conteúdo podem ser configuradas através do painel de controle
das mesmas. Esta é uma preocupação já bastante discutida na comunidade do
Noosfero e no momento da escrita deste texto esta estava implementando algumas
alterações para adequar o Noosfero ao uso de SSL. Será necessário adquirir um
certificado válido para utilização de SSL no Comunidade.UnB.

\begin{figure}[h]
    \centering
    \includegraphics[keepaspectratio=true,scale=0.4]
      {figuras/comunidade.unb.br.eps}
    \caption{Página inicial da Comunidade.UnB}
    \label{comunidade-unb}
\end{figure}

Outro aspecto importante que levamos em consideração é a adequação da
Comunidade.Unb ao padrão de identidade visual da UnB.
A identidade visual da rede foi adaptada em cima do tema~\footnote{Temas são
compostos por aquivos de \textit{layout}, em rhtml e CSS, que definem os aspectos
visuais de uma instância do Noosfero. Os temas podem ser alterados pela interface
administrativa da instância.} do Stoa, que é disponibilizada em um repositório
público, para se enquadrar no padrão da UnB e está disponível em um repositório
no \textit{Github}~\footnote{\url{https://github.com/fga-unb/comunidade-unb-theme}}.
%
O \textit{layout} atual utiliza predominantemente as duas cores-padrão definidas
no Manual de Identidade Visual da Universidade\cite{visualUnB}, o Azul UnB
(Pantone 654) e o Verde UnB (Pantone 348). A Figura \ref{comunidade-unb}
apresenta a página inicial da Comunidade.UnB com o tema desenvolvido.
